# ุดุฑุญ ูุชุฑุฌู ุงููุบุฉ ุงูุนุฑุจูุฉ ุงูุจุฑูุฌูุฉ
# Arabic Compiler - Complete Arabic Guide

## ุงููุญุชููุงุช
1. [ูุธุฑุฉ ุนุงูุฉ](#ูุธุฑุฉ-ุนุงูุฉ)
2. [ูุฑุงุญู ุงูุชุฑุฌูุฉ](#ูุฑุงุญู-ุงูุชุฑุฌูุฉ)
3. [ููููุฉ ุงูุชุดุบูู](#ููููุฉ-ุงูุชุดุบูู)
4. [ุฃูุซูุฉ ุนูููุฉ](#ุฃูุซูุฉ-ุนูููุฉ)
5. [ุญู ุงููุดุงูู](#ุญู-ุงููุดุงูู)

---

## ูุธุฑุฉ ุนุงูุฉ

ุงููุชุฑุฌู ูุญูู ุงูููุฏ ุงูุนุฑุจู ุฅูู ูุบุฉ ุงูุขูุฉ (Assembly) ุซู ุฅูู ููู ุชูููุฐู ูููู ุชุดุบููู ูุจุงุดุฑุฉ ุนูู ูุธุงู Linux.

### ุงูุจููุฉ ุงูุนุงูุฉ
```
ููุฏ ุนุฑุจู (.ar) โ ูุญูู ูุบูู โ ูุญูู ูุญูู โ ูุญูู ุฏูุงูู โ ูููุฏ ุงูููุฏ โ Assembly (.s) โ Object (.o) โ ุชูููุฐู
```

---

## ูุฑุงุญู ุงูุชุฑุฌูุฉ

### ุงููุฑุญูุฉ 1๏ธโฃ: ุงููุญูู ุงููุบูู (Lexer)
**ุงูููู**: `lexer.py`

**ุงููุธููุฉ**: ููุฑุฃ ุงูููุฏ ุงูุนุฑุจู ุญุฑููุง ุจุญุฑููุง ููุญููู ุฅูู ุฑููุฒ (Tokens)

**ูุซุงู**:
```arabic
ูุชุบูุฑ ุณ = 42ุ
```

**ูุชุญูู ุฅูู**:
```
Token(VAR, 'ูุชุบูุฑ')
Token(IDENTIFIER, 'ุณ')
Token(ASSIGN, '=')
Token(NUMBER, '42')
Token(SEMICOLON, 'ุ')
```

**ุงูุฎุตุงุฆุต**:
- ูุฏุนู ุงูุฃุญุฑู ุงูุนุฑุจูุฉ ุงููุงููุฉ (Unicode UTF-8)
- ูุชุนุฑู ุนูู ุงููููุงุช ุงูููุชุงุญูุฉ ุงูุนุฑุจูุฉ
- ูุฏุนู ุงููุงุตูุฉ ุงูุนุฑุจูุฉ (ุ) ูุงููุงุตูุฉ ุงูููููุทุฉ (ุ)

---

### ุงููุฑุญูุฉ 2๏ธโฃ: ุงููุญูู ุงููุญูู (Parser)
**ุงูููู**: `parser.py`

**ุงููุธููุฉ**: ูุจูู ุดุฌุฑุฉ ุชูุซู ุจููุฉ ุงูุจุฑูุงูุฌ (Abstract Syntax Tree - AST)

**ูุซุงู**:
```arabic
ุฏุงูุฉ ูุถุฑูุจ(ุน) {
    ุงุฐุง (ุน <= 1) {
        ุงุฑุฌุน 1ุ
    }
}
```

**ูุชุญูู ุฅูู ุดุฌุฑุฉ**:
```
Function(ูุถุฑูุจ)
  โโ Parameters: [ุน]
  โโ Body:
      โโ IfStatement
          โโ Condition: BinaryOp(ุน <= 1)
          โโ ThenBlock:
              โโ ReturnStatement(1)
```

**ุงูุฎุตุงุฆุต**:
- ูุฏุนู ุฃููููุงุช ุงูุนูููุงุช ุงูุญุณุงุจูุฉ (ุงูุถุฑุจ ูุจู ุงูุฌูุน)
- ูุชุนุงูู ูุน ุงูุฃููุงุณ ุงููุชุฏุงุฎูุฉ
- ูููู ุจููุฉ ุงูุฏูุงู ูุงูุดุฑูุท ูุงูุญููุงุช

---

### ุงููุฑุญูุฉ 3๏ธโฃ: ุงููุญูู ุงูุฏูุงูู (Semantic Analyzer)
**ุงูููู**: `semantic.py`

**ุงููุธููุฉ**: ูุชุญูู ูู ุตุญุฉ ุงูุจุฑูุงูุฌ ููุทูููุง

**ูุชุญูู ูู**:
- โ ุชุนุฑูู ุงููุชุบูุฑุงุช ูุจู ุงูุงุณุชุฎุฏุงู
- โ ุนุฏู ุชูุฑุงุฑ ุฃุณูุงุก ุงูุฏูุงู
- โ ุงุณุชุฏุนุงุก ุฏูุงู ููุฌูุฏุฉ ููุท
- โ ุงููุทุงู ุงูุตุญูุญ ูููุชุบูุฑุงุช (Scope)

**ูุซุงู ุฎุทุฃ**:
```arabic
ุฏุงูุฉ ุฑุฆูุณูุฉ() {
    ุงุทุจุน(ุณ)ุ  // ุฎุทุฃ: ุณ ุบูุฑ ูุนุฑู
}
```

**ุณูุนุทู ุฎุทุฃ**: `Variable 'ุณ' not defined`

---

### ุงููุฑุญูุฉ 4๏ธโฃ: ูููุฏ ุงูููุฏ (Code Generator)
**ุงูููู**: `codegen.py`

**ุงููุธููุฉ**: ูุญูู ุงูุดุฌุฑุฉ ุฅูู ููุฏ Assembly (ูุบุฉ ุงูุขูุฉ)

**ูุซุงู**:
```arabic
ูุชุบูุฑ ุณ = 10ุ
ูุชุบูุฑ ุต = 20ุ
ูุชุบูุฑ ูุฌููุน = ุณ + ุตุ
```

**ูุชุญูู ุฅูู Assembly**:
```assembly
.intel_syntax noprefix

ุฑุฆูุณูุฉ:
    push rbp
    mov rbp, rsp
    sub rsp, 256
    
    mov rax, 10          # ุณ = 10
    mov [rbp-8], rax
    
    mov rax, 20          # ุต = 20
    mov [rbp-16], rax
    
    mov rax, [rbp-16]    # ูุฌููุน = ุณ + ุต
    push rax
    mov rax, [rbp-8]
    pop rbx
    add rax, rbx
    mov [rbp-24], rax
```

**ุงูุฎุตุงุฆุต**:
- ูุณุชุฎุฏู ุตูุบุฉ Intel ููู Assembly
- ูุฏูุฑ ุงูุฐุงูุฑุฉ ุชููุงุฆููุง (Stack)
- ูุฏุนู ุงุณุชุฏุนุงุก ุงูุฏูุงู ุจูุนุงููุฑ Linux (System V ABI)

---

## ููููุฉ ุงูุชุดุบูู

### ุงูุฎุทูุฉ 1: ูุชุงุจุฉ ุงูุจุฑูุงูุฌ

ุฃูุดุฆ ููู ุจุงูุชุฏุงุฏ `.ar` ูุซู `program.ar`:

```arabic
ุฏุงูุฉ ุฑุฆูุณูุฉ() {
    ูุชุบูุฑ ุนุฏุฏ = 100ุ
    ุงุทุจุน(ุนุฏุฏ)ุ
    ุงุฑุฌุน 0ุ
}
```

### ุงูุฎุทูุฉ 2: ุงูุชุฑุฌูุฉ ุฅูู Assembly

```bash
python3 compiler.py program.ar -o program.s
```

**ุงููุงุชุฌ**:
```
[1/4] Lexical analysis...
[2/4] Parsing...
[3/4] Semantic analysis...
[4/4] Code generation...
โ Compilation successful!
  Output: program.s
```

### ุงูุฎุทูุฉ 3: ุชุญููู Assembly ุฅูู Object File

```bash
as program.s -o program.o
```

### ุงูุฎุทูุฉ 4: ุฑุจุท Object File ูุฅูุดุงุก ููู ุชูููุฐู

```bash
ld program.o -o program
```

### ุงูุฎุทูุฉ 5: ุชุดุบูู ุงูุจุฑูุงูุฌ

```bash
./program
```

**ุงููุงุชุฌ**: `100`

---

## ุงูุทุฑููุฉ ุงูุณุฑูุนุฉ (ูู ุงูุฎุทูุงุช ูู ุฃูุฑ ูุงุญุฏ)

```bash
python3 compiler.py program.ar -o program.s && as program.s -o program.o && ld program.o -o program && ./program
```

ุฃู ููููู ุฅูุดุงุก ุณูุฑูุจุช `run.sh`:

```bash
#!/bin/bash
python3 compiler.py $1 -o temp.s
as temp.s -o temp.o
ld temp.o -o temp
./temp
rm temp.s temp.o temp
```

**ุงูุงุณุชุฎุฏุงู**:
```bash
chmod +x run.sh
./run.sh examples/hello.ar
```

---

## ุฃูุซูุฉ ุนูููุฉ

### ูุซุงู 1: ุฌูุน ุฑูููู

```arabic
ุฏุงูุฉ ุฑุฆูุณูุฉ() {
    ูุชุบูุฑ ุงูุฃูู = 15ุ
    ูุชุบูุฑ ุงูุซุงูู = 27ุ
    ูุชุบูุฑ ุงููุฌููุน = ุงูุฃูู + ุงูุซุงููุ
    ุงุทุจุน(ุงููุฌููุน)ุ
    ุงุฑุฌุน 0ุ
}
```

**ุงููุงุชุฌ**: `42`

---

### ูุซุงู 2: ุญููุฉ ุชูุฑุงุฑ

```arabic
ุฏุงูุฉ ุฑุฆูุณูุฉ() {
    ูุชุบูุฑ ุนุฏุงุฏ = 1ุ
    
    ุจูููุง (ุนุฏุงุฏ <= 5) {
        ุงุทุจุน(ุนุฏุงุฏ)ุ
        ุนุฏุงุฏ = ุนุฏุงุฏ + 1ุ
    }
    
    ุงุฑุฌุน 0ุ
}
```

**ุงููุงุชุฌ**: 
```
1
2
3
4
5
```

---

### ูุซุงู 3: ุฏุงูุฉ ูุน ูุนุงููุงุช

```arabic
ุฏุงูุฉ ุงุถุฑุจ(ุณุ ุต) {
    ูุชุบูุฑ ูุงุชุฌ = ุณ * ุตุ
    ุงุฑุฌุน ูุงุชุฌุ
}

ุฏุงูุฉ ุฑุฆูุณูุฉ() {
    ูุชุบูุฑ ุงููุชูุฌุฉ = ุงุถุฑุจ(6ุ 7)ุ
    ุงุทุจุน(ุงููุชูุฌุฉ)ุ
    ุงุฑุฌุน 0ุ
}
```

**ุงููุงุชุฌ**: `42`

---

### ูุซุงู 4: ุดุฑูุท ูุชุฏุงุฎูุฉ

```arabic
ุฏุงูุฉ ุฑุฆูุณูุฉ() {
    ูุชุบูุฑ ุงูุฏุฑุฌุฉ = 85ุ
    
    ุงุฐุง (ุงูุฏุฑุฌุฉ >= 90) {
        ุงุทุจุน(1)ุ  // ููุชุงุฒ
    } ูุงูุง {
        ุงุฐุง (ุงูุฏุฑุฌุฉ >= 75) {
            ุงุทุจุน(2)ุ  // ุฌูุฏ ุฌุฏุงู
        } ูุงูุง {
            ุงุทุจุน(3)ุ  // ุฌูุฏ
        }
    }
    
    ุงุฑุฌุน 0ุ
}
```

**ุงููุงุชุฌ**: `2`

---

### ูุซุงู 5: ุงูุนูุฏูุฉ (Recursion) - ุญุณุงุจ ุงูููุฉ

```arabic
ุฏุงูุฉ ููุฉ(ุฃุณุงุณุ ุฃุณ) {
    ุงุฐุง (ุฃุณ == 0) {
        ุงุฑุฌุน 1ุ
    } ูุงูุง {
        ูุชุบูุฑ ูุชูุฌุฉ = ุฃุณุงุณ * ููุฉ(ุฃุณุงุณุ ุฃุณ - 1)ุ
        ุงุฑุฌุน ูุชูุฌุฉุ
    }
}

ุฏุงูุฉ ุฑุฆูุณูุฉ() {
    ูุชุบูุฑ ุงููุชูุฌุฉ = ููุฉ(2ุ 10)ุ  // 2^10
    ุงุทุจุน(ุงููุชูุฌุฉ)ุ
    ุงุฑุฌุน 0ุ
}
```

**ุงููุงุชุฌ**: `1024`

---

## ุญู ุงููุดุงูู

### ูุดููุฉ: ุฎุทุฃ ูู ุงููุฑุงุกุฉ (Encoding Error)

**ุงูุฎุทุฃ**:
```
UnicodeDecodeError: 'utf-8' codec can't decode...
```

**ุงูุญู**: ุชุฃูุฏ ูู ุญูุธ ุงูููู ุจุชุฑููุฒ UTF-8
```bash
file -i program.ar  # ูุฌุจ ุฃู ูุธูุฑ charset=utf-8
```

**ูู VS Code**: ุงุถุบุท ุนูู "UTF-8" ูู ุดุฑูุท ุงูุญุงูุฉ ูุงุฎุชุฑ "Save with Encoding" โ "UTF-8"

---

### ูุดููุฉ: ุฃูุฑ `as` ุบูุฑ ููุฌูุฏ

**ุงูุฎุทุฃ**:
```
command not found: as
```

**ุงูุญู**: ุซุจุช GNU Binutils
```bash
sudo apt-get install binutils  # Ubuntu/Debian
sudo yum install binutils      # CentOS/RHEL
```

---

### ูุดููุฉ: Assembly Error

**ุงูุฎุทุฃ**:
```
hello.s: Assembler messages:
hello.s:10: Error: ...
```

**ุงูุญู**: ูุฐุง ุฎุทุฃ ูู ุชูููุฏ ุงูููุฏ. ุชุฃูุฏ ูู ุงุณุชุฎุฏุงู ุฃุญุฏุซ ูุณุฎุฉ ูู `codegen.py`

---

### ูุดููุฉ: Variable not defined

**ุงูุฎุทุฃ**:
```
Semantic Error: Variable 'ุณ' not defined
```

**ุงูุญู**: ุชุฃูุฏ ูู ุชุนุฑูู ุงููุชุบูุฑ ูุจู ุงุณุชุฎุฏุงูู
```arabic
// ุฎุทุฃ โ
ุฏุงูุฉ ุฑุฆูุณูุฉ() {
    ุงุทุจุน(ุณ)ุ
}

// ุตุญูุญ โ
ุฏุงูุฉ ุฑุฆูุณูุฉ() {
    ูุชุบูุฑ ุณ = 10ุ
    ุงุทุจุน(ุณ)ุ
}
```

---

## ูููู ุงููุดุฑูุน

```
arabic_compiler/
โ
โโโ compiler.py         # ุงูููุทุฉ ุงูุฑุฆูุณูุฉ ููุชุดุบูู
โโโ lexer.py           # ุงููุญูู ุงููุบูู
โโโ parser.py          # ุงููุญูู ุงููุญูู
โโโ ast_nodes.py       # ุชุนุฑููุงุช ุงูุนูุฏ
โโโ semantic.py        # ุงููุญูู ุงูุฏูุงูู
โโโ codegen.py         # ูููุฏ ุงูููุฏ
โโโ README.md          # ุงูุชูุซูู ุจุงูุฅูุฌููุฒูุฉ
โ
โโโ examples/          # ุฃูุซูุฉ ุฌุงูุฒุฉ
    โโโ hello.ar           # ูุซุงู ุจุณูุท
    โโโ factorial.ar       # ุญุณุงุจ ุงููุถุฑูุจ
    โโโ fibonacci.ar       # ูุชุชุงููุฉ ููุจููุงุชุดู
    โโโ comprehensive.ar   # ูุซุงู ุดุงูู
```

---

## ุงููููุงุช ุงูููุชุงุญูุฉ ุงููุฏุนููุฉ

| ุงูุนุฑุจูุฉ | ุงููุธููุฉ | ูุซุงู |
|---------|----------|------|
| `ูุชุบูุฑ` | ุชุนุฑูู ูุชุบูุฑ | `ูุชุบูุฑ ุณ = 10ุ` |
| `ุงุฐุง` | ุดุฑุท | `ุงุฐุง (ุณ > 5) { }` |
| `ูุงูุง` | ุงูุฌุฒุก ุงูุจุฏูู | `ูุงูุง { }` |
| `ุจูููุง` | ุญููุฉ ุชูุฑุงุฑ | `ุจูููุง (ุณ < 10) { }` |
| `ุฏุงูุฉ` | ุชุนุฑูู ุฏุงูุฉ | `ุฏุงูุฉ ุงุณู() { }` |
| `ุงุฑุฌุน` | ุฅุฑุฌุงุน ูููุฉ | `ุงุฑุฌุน 42ุ` |
| `ุงุทุจุน` | ุทุจุงุนุฉ ุฑูู | `ุงุทุจุน(ุณ)ุ` |

---

## ุงูุนูููุงุช ุงูุญุณุงุจูุฉ ูุงูููุทููุฉ

| ุงูุนูููุฉ | ุงูุฑูุฒ | ูุซุงู |
|---------|------|------|
| ุฌูุน | `+` | `ุณ + ุต` |
| ุทุฑุญ | `-` | `ุณ - ุต` |
| ุถุฑุจ | `*` | `ุณ * ุต` |
| ูุณูุฉ | `/` | `ุณ / ุต` |
| ูุณุงูู | `==` | `ุณ == ุต` |
| ูุง ูุณุงูู | `!=` | `ุณ != ุต` |
| ุฃูุจุฑ ูู | `>` | `ุณ > ุต` |
| ุฃุตุบุฑ ูู | `<` | `ุณ < ุต` |
| ุฃูุจุฑ ุฃู ูุณุงูู | `>=` | `ุณ >= ุต` |
| ุฃุตุบุฑ ุฃู ูุณุงูู | `<=` | `ุณ <= ุต` |

---

## ูุตุงุฆุญ ูููุฉ

1. **ุงุณู ุงูุฏุงูุฉ ุงูุฑุฆูุณูุฉ**: ูุฌุจ ุฃู ูููู `ุฑุฆูุณูุฉ`
2. **ุงููุงุตูุฉ ุงูููููุทุฉ**: ูุง ุชูุณู `ุ` ูู ููุงูุฉ ูู ุฌููุฉ
3. **ุงูุฃููุงุณ**: ุงุณุชุฎุฏู `{ }` ูููุชู ู `( )` ููุดุฑูุท ูุงูุฏูุงู
4. **ุงููุชุบูุฑุงุช**: ูุฌุจ ุชุนุฑูู ูู ูุชุบูุฑ ูุจู ุงุณุชุฎุฏุงูู
5. **ุงูุฃุฑูุงู ููุท**: ุงููุณุฎุฉ ุงูุญุงููุฉ ุชุฏุนู ุงูุฃุฑูุงู ุงูุตุญูุญุฉ ููุท (ูุง ูุตูุต ููุง ูุณูุฑ)

---

## ุฃูุซูุฉ ุฅุถุงููุฉ ูู ุงููุฌูุฏ `examples/`

### ุชุดุบูู ูุซุงู Factorial
```bash
cd arabic_compiler
python3 compiler.py examples/factorial.ar -o factorial.s
as factorial.s -o factorial.o
ld factorial.o -o factorial
./factorial
# ุงููุงุชุฌ: 120 (ููู 5!)
```

### ุชุดุบูู ูุซุงู Fibonacci
```bash
python3 compiler.py examples/fibonacci.ar -o fib.s
as fib.s -o fib.o
ld fib.o -o fib
./fib
# ุงููุงุชุฌ: 0 1 1 2 3 5 8 13 21 34
```

---

## ุงูุชุทููุฑ ุงููุณุชูุจูู (Future Enhancements)

ูููู ุฅุถุงูุฉ:
- ๐ ุฏุนู ุงููุตูุต (Strings)
- ๐ข ุฏุนู ุงูุฃุฑูุงู ุงูุนุดุฑูุฉ (Floats)
- ๐ ุงููุตูููุงุช (Arrays)
- ๐ ุญููุฉ `ููู` (For loop)
- ๐ฅ ูุฑุงุกุฉ ูู ุงููุณุชุฎุฏู
- ๐ ุฏุนู ูููุงุช ูุชุนุฏุฏุฉ
- โก ุชุญุณููุงุช ุงูุฃุฏุงุก

---

## ุงููุณุงุนุฏุฉ ูุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ูุดููุฉ:
1. ุชุญูู ูู ุงูุฃูุซูุฉ ุงูููุฌูุฏุฉ ูู `examples/`
2. ุฑุงุฌุน ุฑุณุงูุฉ ุงูุฎุทุฃ ุจุนูุงูุฉ (ุชุฎุจุฑู ุฑูู ุงูุณุทุฑ)
3. ุชุฃูุฏ ูู ุงุณุชุฎุฏุงู UTF-8 encoding

**ุตูุน ุจุญุจ โค๏ธ ูููุจุฑูุฌูู ุงูุนุฑุจ**
